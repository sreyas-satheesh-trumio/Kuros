@inherits LayoutComponentBase
@using Kuros.Web.Services
@inject AuthService AuthService
@inject NavigationManager Navigation
@inject Initialization initi


<div class="main-layout">
    <header class="app-header">
        <div class="header-content">
            <h1 class="app-title">Kuros</h1>
            <button class="logout-btn" @onclick="Logout">Logout</button>
        </div>
    </header>
    <main class="main-content">
        <div @@onclick="initi.HandleMainLayoutClickEvent">
            @Body
        </div>
    </main>
</div>

@code {
    private void Logout()
    {
        AuthService.Logout();
        Navigation.NavigateTo("/");
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender) await initi.InitializeTheme(); 
    }
}